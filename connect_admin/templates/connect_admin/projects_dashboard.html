{% extends 'connect_admin/base.html' %} {% block nav-items %}
{% load static %}
<li class="nav-item">
  <a class="nav-link" href="{% url 'connect_admin:dashboard' %}"
    ><i class="fa fa-home nav-icon"></i>Home</a
  >
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'connect_admin:news' %}"
      ><i class="fa fa-newspaper-o nav-icon"></i>News</a
    >
</li>
<li class="nav-item">
    <a class="nav-link active" href="{% url 'connect_admin:projects' %}"
      ><i class="fa fas fa-project-diagram nav-icon"></i>Projects</a
    >
</li>
<li class="nav-item">
  <a class="nav-link" href="{% url 'connect_admin:members' %}">
    <i class="fas fa-users nav-icon"></i>Members
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{% url 'connect_admin:scholarships' %}">
      <i class="fas fa-project-diagram nav-icon"></i>Scholarships</a>
</li>
{% endblock %} {% block main-content %}
<div class="main-application-wrap">
    <!-- Projects Section -->
    <div class="projects-wrap custom-container" id="projects">
      <br>
      <button
      type="button"
      id="open-generate-card-modal"
      class="cta-btn register-cta"
    >
      <i class="fa fa-plus"></i> Add Project
    </button>
    <!-- Add Projects Modal -->
    <div id="generateCardModal" class="custom-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Add Project</h3>
          <div class="close-nav" id="close-modal">
            <i class="fa fa-times close-icon"></i>
          </div>
        </div>
        <div class="modal-body">
          <form method="POST" enctype="multipart/form-data" novalidate class="text-start">
            {% csrf_token %}
            
            <!-- Project Details -->
            <div class="form-group">
              {{ form.name.label_tag }}
              {{ form.name }}
            </div>
            <div class="form-group">
              {{ form.description.label_tag }}
              {{ form.description }}
            </div>
            
            <!-- Location & Status -->
            <div class="form-group-grid">
              <div class="form-group">
                {{ form.location.label_tag }}
                {{ form.location }}
              </div>
              <div class="form-group">
                {{ form.status.label_tag }}
                {{ form.status }}
              </div>
            </div>
            
            <!-- Type-->
            <div class="form-group">
              {{ form.type.label_tag }}
              {{ form.type }}
            </div>
            
            <!-- Main Image (Required) -->
            <div class="form-group-grid">
              <div class="form-group">
                <label for="{{ form.main_image.id_for_label }}">
                  {{ form.main_image.label }} <span class="text-danger">*</span>
                </label>
                {{ form.main_image }}
                <!-- <small class="text-muted">Primary image for the project (required)</small> -->
              </div>

              <div class="form-group">
                <label for="{{ form.extra_image_1.id_for_label }}">
                  {{ form.extra_image_1.label }}
                </label>
                {{ form.extra_image_1 }}
              </div>
              
              <!-- Extra Images-->
                <div class="form-group">
                  <label for="{{ form.extra_image_3.id_for_label }}">
                    {{ form.extra_image_3.label }}
                  </label>
                  {{ form.extra_image_3 }}
                </div>

                <div class="form-group">
                  <label for="{{ form.extra_image_2.id_for_label }}">
                    {{ form.extra_image_2.label }}
                  </label>
                  {{ form.extra_image_2 }}
                </div>
            </div>
            <input type="submit" value="Save" class="submit-btn cta-btn" aria-label="Submit the project form" />
          </form>
        </div>
      </div>
    </div>
    <br>
    <br>
      <div class="container text-center">
          <h2 class="text-start scroll-animation">Our Projects</h2>
          <div class="projects">
              {% for project in projects %}
              <div class="project-item">
                {% with main_image=project.images.all|first %}
                <img src="{% if main_image %}{{ main_image.image.url }}{% else %}/static/images/default-project.png{% endif %}" 
                    alt="{{ project.name }}" 
                    class="project-image">
                {% endwith %}
                  <div class="project-info">
                      <p class="date-tag tag text-start">
                          <i class="fa fa-calendar date-icon"></i> {{ project.date|default:"Not specified" }}
                      </p>
                      <h4>{{ project.name }}</h4>
                      <!-- <a href="#">
                          <p>
                              {{ project.description|default:"Not specified" }}
                          </p> -->
                      </a>
                      <div class="tags-grid">
                        <p class="tag">
                            <i class="fa fa-map-marker"></i> Location: {{ project.location|default:"Not specified" }}
                        </p>
                        <p class="tag">
                            <i class="fas fa-circle-notch"></i> Status: {{ project.status|default:"Not specified" }}
                        </p>
                    </div>
                      <div class="card-footer">
                        <a href="{% url 'connect_admin:delete_project' project.id %}" class="delete-tag footer-tag">
                          <i class="fa fa-trash"></i>
                          Remove
                        </a>
                        <a href="{% url 'connect_admin:edit_project' project.id %}" class="edit-tag footer-tag">
                          <i class="fa fa-edit"></i>
                          Edit
                        </a>
                      </div>
                  </div>
              </div>
              {% empty %}
                  <h5 class="text-center alert alert-warning">No project(s) available</h5>
              {% endfor %}
          </div>
      </div>
  </div>
</div>
</div>

{% endblock %}
