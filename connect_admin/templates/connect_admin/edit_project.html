{% extends 'connect_admin/base.html' %}

{% block nav-items %}
<li class="nav-item">
  <a class="nav-link" href="{% url 'connect_admin:dashboard' %}">
    <i class="fa fa-home nav-icon"></i>Home
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{% url 'connect_admin:news' %}">
    <i class="fa fa-newspaper-o nav-icon"></i>News
  </a>
</li>
<li class="nav-item">
  <a class="nav-link active" href="{% url 'connect_admin:projects' %}">
    <i class="fas fa-project-diagram nav-icon"></i>Projects
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="{% url 'connect_admin:members' %}">
    <i class="fas fa-users nav-icon"></i>Members
  </a>
</li>
{% endblock %}

{% block main-content %}
<div class="main-application-wrap">
  <div class="projects-wrap custom-container" id="projects">
    <div class="container text-center">
      <h2 class="text-start scroll-animation">Update Project</h2>
      <br>
      <br>
      <div class="project-details-container update-container">
        {% with main_image=project.images.all|first %}
        <img src="{% if main_image %}{{ main_image.image.url }}{% else %}/static/images/default-project.png{% endif %}" 
            alt="{{ project.name }}" 
            class="project-image">
        {% endwith %}
        <form method="POST" enctype="multipart/form-data" novalidate class="text-start">
          {% csrf_token %}
          <!-- {{ form.as_p }} -->
            <div class="form-group">
                {{ form.name.label_tag }}
                {{ form.name }}
            </div>
           <div class="form-group">
                {{ form.description.label_tag }}
                {{ form.description }}
            </div>
          <div class="form-group-grid">
            <div class="form-group">
                {{ form.category.label_tag }}
                {{ form.category }}
                </div>
           <div class="form-group">
                {{ form.status.label_tag }}
                {{ form.status }}
           </div>
          </div>
          <div class="form-group-grid">
            <div class="form-group">
              {{ form.location.label }}
              {{ form.location }}
            </div>
              <div class="form-group">
              {{ form.main_image.label }} <span class="text-danger">*</span>
              {{ form.main_image }}
              </div>
          </div>
          <div class="form-group cta-grid">
            <a href="{% url 'connect_admin:projects' %}" class="cta-btn cancel-btn">Cancel</a>
            <input type="submit" value="Save" class="submit-btn cta-btn" aria-label="Submit the news update form" />
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
